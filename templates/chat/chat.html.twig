{% autoescape %}
    {% block chat %}

        <aside class="chat-window" data-controller="chat" data-action="turbolinks:before-cache@window->chat#animate"
               data-chat-target="aside">
            <div
                    data-action="click->chat#animate"
                    data-chat-target="open"
                    class="button-chat">
                <span class="material-symbols-outlined">send</span>
            </div>
            <span data-action="click->chat#animate" data-chat-target="close"
                  class="close_chat material-symbols-outlined">
close
</span>
            <section data-chat-target="messages" id="messages">
                {% for message in salon.messages %}
                    <article class="bulle_chat box">
                        <p class="message-user">{{ message.user.username }}</p>
                        <p class="message-content">{{ message.content }}</p>
                        <p class="message-date">{{ message.createdAt|date("G:i") }}</p>
                    </article>
                {% endfor %}
            </section>

            {{ form(messageForm, {'action': path('salon.chat', {id: salon.id}) }
                ) }}


        </aside>
    {% endblock %}
{% endautoescape %}